{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAppContext}from'../context/AppContext';import'./WorkflowDetail.css';// Component for editing a specific step's configuration\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function StepConfigEditor(_ref){let{workflowId,step,onConfigChange,onCancel}=_ref;const{updateStepConfig}=useAppContext();const[localConfig,setLocalConfig]=useState({...step.config});// Initialize with current config\nuseEffect(()=>{// Reset local config if the step changes\nsetLocalConfig({...step.config});},[step]);const handleInputChange=event=>{const{name,value,type,checked}=event.target;setLocalConfig(prevConfig=>({...prevConfig,[name]:type==='checkbox'?checked:type==='number'?Number(value)||0:value// Handle different input types\n}));};const handleSave=()=>{updateStepConfig(workflowId,step.step_id,localConfig);onConfigChange();// Notify parent that config was saved/updated\n};// Render form fields based on step type\nconst renderConfigFields=()=>{switch(step.type){case'delay':return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`duration_${step.step_id}`,children:\"Duration (seconds):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:`duration_${step.step_id}`,name:\"duration_seconds\",value:localConfig.duration_seconds||'',onChange:handleInputChange,min:\"1\"})]});case'stake':// Example for stake\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`contract_type_${step.step_id}`,children:\"Contract Type:\"}),/*#__PURE__*/_jsx(\"select\",{id:`contract_type_${step.step_id}`,name:\"contract_type\",value:localConfig.contract_type||'kitsu',onChange:handleInputChange,children:/*#__PURE__*/_jsx(\"option\",{value:\"kitsu\",children:\"Kitsu\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`amount_${step.step_id}`,children:\"Amount:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"// Use text for potential large numbers or decimals\n,id:`amount_${step.step_id}`,name:\"amount\",value:localConfig.amount||'',onChange:handleInputChange,placeholder:\"e.g., 0.1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-suffix\",children:\"MON\"})]})]});case'swap':// Example for swap\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`token_from_symbol_${step.step_id}`,children:\"From Token:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:`token_from_symbol_${step.step_id}`,name:\"token_from_symbol\",value:localConfig.token_from_symbol||'',onChange:handleInputChange,placeholder:\"e.g., MON\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`token_to_symbol_${step.step_id}`,children:\"To Token:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:`token_to_symbol_${step.step_id}`,name:\"token_to_symbol\",value:localConfig.token_to_symbol||'',onChange:handleInputChange,placeholder:\"e.g., USDC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`amount_str_${step.step_id}`,children:\"Amount:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:`amount_str_${step.step_id}`,name:\"amount_str\",value:localConfig.amount_str||'',onChange:handleInputChange,placeholder:\"e.g., 0.1\"})]})]});case'send':// Add send configuration\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`amount_mon_${step.step_id}`,children:\"Amount:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:`amount_mon_${step.step_id}`,name:\"amount_mon\",value:localConfig.amount_mon||'',onChange:handleInputChange,placeholder:\"e.g., 0.001\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-suffix\",children:\"MON\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`mode_${step.step_id}`,children:\"Mode:\"}),/*#__PURE__*/_jsxs(\"select\",{id:`mode_${step.step_id}`,name:\"mode\",value:localConfig.mode||'single',onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"single\",children:\"Single Recipient\"}),/*#__PURE__*/_jsx(\"option\",{value:\"random\",children:\"Random Recipients\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`recipient_address_${step.step_id}`,children:\"Recipient Address:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:`recipient_address_${step.step_id}`,name:\"recipient_address\",value:localConfig.recipient_address||'',onChange:handleInputChange,placeholder:\"0x...\",disabled:localConfig.mode==='random'})]})]});case'lilchogstars':// Add lilchogstars configuration\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`quantity_${step.step_id}`,children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:`quantity_${step.step_id}`,name:\"quantity\",value:localConfig.quantity||1,onChange:handleInputChange,placeholder:\"e.g., 1\",min:\"1\"})]})});// Add cases for other step types (deploy, send, etc.)\ndefault:return/*#__PURE__*/_jsxs(\"p\",{children:[\"No configuration available for step type: \",step.type]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"step-config-editor\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Configure Step: \",step.type]}),/*#__PURE__*/_jsx(\"div\",{className:\"config-form\",children:renderConfigFields()}),/*#__PURE__*/_jsxs(\"div\",{className:\"config-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"save-config-btn\",style:{background:'linear-gradient(to right, #ff5c8d, #ff8fab)',color:'white',border:'none',borderRadius:'6px',padding:'8px 16px',cursor:'pointer',fontSize:'0.9rem',fontWeight:'500',marginRight:'10px'},children:\"Save Config\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"cancel-config-btn\",style:{background:'transparent',color:'#ff5c8d',border:'1px solid #ff5c8d',borderRadius:'6px',padding:'8px 16px',cursor:'pointer',fontSize:'0.9rem',fontWeight:'500'},children:\"Cancel\"})]})]});}function WorkflowDetail(){var _activeTask$status,_latestRun$status,_latestRun$status2,_latestRun$status3,_latestRun$status4,_latestRun$status5,_latestRun$status6,_activeTask$status2,_activeTask$status3,_activeTask$status4,_activeTask$status5;const{selectedWorkflow,tasks,fetchTasks,addStepToWorkflow,deleteStepFromWorkflow,runMultiStepWorkflow}=useAppContext();const[skipOnError,setSkipOnError]=useState(true);const[isRunning,setIsRunning]=useState(false);const[runResult,setRunResult]=useState(null);const[isStopping,setIsStopping]=useState(false);const[stopResult,setStopResult]=useState(null);const[activeTaskId,setActiveTaskId]=useState(null);const[editingStepId,setEditingStepId]=useState(null);const[newStepType,setNewStepType]=useState('delay');// ฟังก์ชันสำหรับลบคำว่า (Counter) หรือ ข้อความในวงเล็บออกจากชื่อ workflow\nconst cleanWorkflowName=name=>{return name.replace(/\\s*\\([^)]*\\)\\s*/g,'');};useEffect(()=>{setRunResult(null);setStopResult(null);setIsRunning(false);setIsStopping(false);setActiveTaskId(null);setEditingStepId(null);},[selectedWorkflow]);useEffect(()=>{if(activeTaskId&&tasks){const currentActiveTask=tasks.find(task=>task.id===activeTaskId);if(currentActiveTask){var _currentActiveTask$st;if(!['running','pending','stopping'].includes((_currentActiveTask$st=currentActiveTask.status)===null||_currentActiveTask$st===void 0?void 0:_currentActiveTask$st.toLowerCase())){setActiveTaskId(null);}}else{setActiveTaskId(null);}}else if(activeTaskId&&!tasks){setActiveTaskId(null);}},[tasks,activeTaskId]);const handleAddStep=()=>{if(!selectedWorkflow)return;console.log('Add Step button clicked');console.log('Selected Workflow ID:',selectedWorkflow.id);console.log('New Step Type:',newStepType);addStepToWorkflow(selectedWorkflow.id,newStepType);};const handleDeleteStep=stepId=>{if(!selectedWorkflow)return;if(window.confirm('Are you sure you want to delete this step?')){deleteStepFromWorkflow(selectedWorkflow.id,stepId);if(editingStepId===stepId){setEditingStepId(null);}}};const handleEditStep=stepId=>{setEditingStepId(editingStepId===stepId?null:stepId);};const handleConfigSaved=()=>{setEditingStepId(null);};const handleRunWorkflow=async()=>{if(!selectedWorkflow)return;setIsRunning(true);setRunResult(null);setStopResult(null);setActiveTaskId(null);try{console.log('Running multi-step workflow with ID:',selectedWorkflow.id);const result=await runMultiStepWorkflow(selectedWorkflow.id);console.log('runMultiStepWorkflow result:',result);setRunResult(result);if(result.success&&result.taskId){console.log(\"Multi-step workflow started with task ID:\",result.taskId);setActiveTaskId(result.taskId);}else{setActiveTaskId(null);}}catch(error){setActiveTaskId(null);setRunResult({success:false,message:`Error running workflow: ${error.message}`});console.error(\"Error in handleRunWorkflow:\",error);}finally{setIsRunning(false);}};const handleStopTask=async taskId=>{if(!taskId)return;setIsStopping(true);setStopResult(null);console.log(\"Requesting stop for task:\",taskId);try{const response=await fetch(`/api/v1/stop-task/${taskId}`,{method:'POST',headers:{'Content-Type':'application/json'}});const data=await response.json();if(!response.ok){console.error(\"Stop request failed:\",data.detail||'Failed response from server');setStopResult({success:false,message:`Stop request failed: ${data.detail||'Unknown error'}`});}else{setStopResult({success:true,message:data.message||'Stop request sent successfully.'});}setTimeout(()=>{if(fetchTasks)fetchTasks();setTimeout(()=>{setIsStopping(false);setActiveTaskId(null);},500);},1500);}catch(error){console.error(\"Error stopping task (network/parse issue):\",error);setStopResult({success:false,message:`Error: ${error.message}`});setTimeout(()=>{if(fetchTasks)fetchTasks();setTimeout(()=>{setIsStopping(false);setActiveTaskId(null);},500);},1500);}};const getLatestRun=()=>{if(!selectedWorkflow||!tasks||tasks.length===0)return null;const relatedTasks=tasks.filter(task=>task.description&&task.description.startsWith(`${selectedWorkflow.name} (Multi-Step Run)`));if(relatedTasks.length===0)return null;relatedTasks.sort((a,b)=>new Date(b.startTime)-new Date(a.startTime));return relatedTasks[0];};const latestRun=getLatestRun();const activeTask=activeTaskId?tasks===null||tasks===void 0?void 0:tasks.find(task=>task.id===activeTaskId):null;const isTaskStoppable=activeTask&&['running','pending','stopping'].includes((_activeTask$status=activeTask.status)===null||_activeTask$status===void 0?void 0:_activeTask$status.toLowerCase());// +++ DEBUG LOG +++\nconsole.log('WorkflowDetail Render - isTaskStoppable:',isTaskStoppable,'activeTask:',activeTask,'isRunning:',isRunning,'selectedWorkflow:',selectedWorkflow);console.log('WorkflowDetail DOM Debug - Button rendering conditions check');console.log('Button Disabled Logic:',isRunning||!selectedWorkflow||!selectedWorkflow.steps||selectedWorkflow.steps.length===0);if(selectedWorkflow){console.log('Steps Check:',selectedWorkflow.steps?`${selectedWorkflow.steps.length} steps`:'No steps array');}// +++ END DEBUG LOG +++\n// --- Helper Function to generate descriptive text for a step ---\nconst getStepDescription=step=>{if(!step)return'Unknown Step';const config=step.config||{};switch(step.type){case'delay':return`Delay for ${config.duration_seconds||'?'} seconds`;case'stake':return`Stake ${config.amount_mon||'?'} MON (${config.contract_type||'kitsu'})`;case'swap':// Use amount_str for swap as per config\nreturn`Swap ${config.amount_str||'?'} ${config.token_from_symbol||'?'} to ${config.token_to_symbol||'?'}`;case'deploy':return`Deploy Contract: ${config.contract_name||'?'}`;case'send':return`Send ${config.amount_mon||'?'} MON ${config.mode==='single'?`to ${config.recipient_address||'?'}`:'(Random Recipient)'}`;case'bebop':return`Bebop: Wrap/Unwrap ${config.amount_mon||'?'} MON`;case'izumi':return`Izumi: Wrap/Unwrap ${config.amount_mon||'?'} MON`;case'lilchogstars':return`Mint Lilchogstars (Qty: ${config.quantity||'?'})`;case'mono':return`Mono Transaction: Send ${config.value_mon||'?'} MON to ${config.recipient_address||'?'}`;case'rubic':return`Rubic: Swap ${config.amount_mon||'?'} MON to USDT`;case'ambient':const inToken=config.token_in_symbol||'Random';const outToken=config.token_out_symbol||'Random';return`Ambient: Swap ${config.amount_percent||100}% ${inToken} to ${outToken}`;case'apriori':return`Apriori: Full Stake/Unstake/Claim Cycle`;case'bean':const beanDir=config.direction==='to_token'?`MON to ${config.token_symbol||'?'}`:`${config.token_symbol||'?'} to MON`;// Use amount (float) for bean as per config\nreturn`Bean: Swap ${config.amount||'?'} (${beanDir})`;case'bima':const lendPercent=config.percent_to_lend?`${config.percent_to_lend[0]}-${config.percent_to_lend[1]}%`:'Default %';return`Bima: Lend Cycle (${lendPercent})`;default:return`Unknown Step Type: ${step.type}`;}};return/*#__PURE__*/_jsx(\"div\",{className:\"workflow-detail\",style:{maxWidth:'1000px',margin:'0 auto'},children:!selectedWorkflow?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'60px 30px',textAlign:'center',color:'#6c757d',backgroundColor:'white',borderRadius:'12px',border:'1px solid #e9ecef',boxShadow:'0 4px 12px rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',marginBottom:'20px',color:'#d1d5db'},children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem',fontWeight:'500'},children:\"No workflow selected. Please select a workflow from the list.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',padding:'18px 24px',backgroundColor:'white',borderRadius:'12px',border:'1px solid #e9ecef',boxShadow:'0 4px 12px rgba(0,0,0,0.05)',transition:'box-shadow 0.3s ease'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{style:{margin:0,fontSize:'1.4rem',fontWeight:'600',color:'#212529',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'center',width:'32px',height:'32px',borderRadius:'8px',backgroundColor:'#ffe5ec',color:'#ff5c8d',fontSize:'1rem'},children:\"\\uD83D\\uDCCB\"}),cleanWorkflowName(selectedWorkflow.name)]}),latestRun&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',fontSize:'0.85rem',color:'#6c757d',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.8rem'},children:\"\\u23F1\\uFE0F\"}),\"Last run:\"]}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'3px 10px',borderRadius:'100px',backgroundColor:((_latestRun$status=latestRun.status)===null||_latestRun$status===void 0?void 0:_latestRun$status.toLowerCase())==='completed'?'#d1e7dd':((_latestRun$status2=latestRun.status)===null||_latestRun$status2===void 0?void 0:_latestRun$status2.toLowerCase())==='running'?'#cfe2ff':((_latestRun$status3=latestRun.status)===null||_latestRun$status3===void 0?void 0:_latestRun$status3.toLowerCase())==='failed'?'#f8d7da':'#e9ecef',color:((_latestRun$status4=latestRun.status)===null||_latestRun$status4===void 0?void 0:_latestRun$status4.toLowerCase())==='completed'?'#146c43':((_latestRun$status5=latestRun.status)===null||_latestRun$status5===void 0?void 0:_latestRun$status5.toLowerCase())==='running'?'#0a58ca':((_latestRun$status6=latestRun.status)===null||_latestRun$status6===void 0?void 0:_latestRun$status6.toLowerCase())==='failed'?'#dc3545':'#6c757d',fontSize:'0.75rem',fontWeight:'600',letterSpacing:'0.3px'},children:latestRun.status}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#adb5bd'},children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(latestRun.startTime).toLocaleTimeString()})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:isTaskStoppable&&!isStopping?handleStopTask.bind(null,activeTaskId):handleRunWorkflow,style:{background:isTaskStoppable&&!isStopping?'linear-gradient(to right, #dc3545, #e35d6a)':'linear-gradient(to right, #ffb6c1, #ffc8d0)',color:'white',border:'none',borderRadius:'8px',padding:'10px 20px',fontWeight:'600',cursor:'pointer',fontSize:'0.95rem',opacity:(isRunning||isStopping||(activeTask===null||activeTask===void 0?void 0:(_activeTask$status2=activeTask.status)===null||_activeTask$status2===void 0?void 0:_activeTask$status2.toLowerCase())!=='completed'&&(activeTask===null||activeTask===void 0?void 0:(_activeTask$status3=activeTask.status)===null||_activeTask$status3===void 0?void 0:_activeTask$status3.toLowerCase())!=='failed'&&activeTaskId!==null||!selectedWorkflow||!selectedWorkflow.steps||selectedWorkflow.steps.length===0)&&!(isTaskStoppable&&!isStopping)?'0.6':'1',transition:'all 0.2s ease',display:'flex',alignItems:'center',gap:'8px',boxShadow:'0 2px 6px rgba(0,0,0,0.1)'},disabled:(isRunning||isStopping||(activeTask===null||activeTask===void 0?void 0:(_activeTask$status4=activeTask.status)===null||_activeTask$status4===void 0?void 0:_activeTask$status4.toLowerCase())!=='completed'&&(activeTask===null||activeTask===void 0?void 0:(_activeTask$status5=activeTask.status)===null||_activeTask$status5===void 0?void 0:_activeTask$status5.toLowerCase())!=='failed'&&activeTaskId!==null||!selectedWorkflow||!selectedWorkflow.steps||selectedWorkflow.steps.length===0)&&!(isTaskStoppable&&!isStopping),children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1rem',display:'flex',alignItems:'center'},children:isTaskStoppable&&!isStopping?'⏹️':isRunning||isStopping?'⏳':'▶️'}),isTaskStoppable&&!isStopping?'Stop':isRunning||isStopping?'Starting...':'Run now']})]}),(runResult||stopResult)&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'14px 20px',borderRadius:'12px',backgroundColor:runResult!==null&&runResult!==void 0&&runResult.success||stopResult!==null&&stopResult!==void 0&&stopResult.success?'#e7f3e8':'#f8d7da',border:'1px solid',borderColor:runResult!==null&&runResult!==void 0&&runResult.success||stopResult!==null&&stopResult!==void 0&&stopResult.success?'#c3e6cb':'#f5c6cb',color:runResult!==null&&runResult!==void 0&&runResult.success||stopResult!==null&&stopResult!==void 0&&stopResult.success?'#155724':'#721c24',fontSize:'0.95rem',boxShadow:'0 2px 5px rgba(0,0,0,0.03)',display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.2rem'},children:runResult!==null&&runResult!==void 0&&runResult.success||stopResult!==null&&stopResult!==void 0&&stopResult.success?'✅':'❗'}),/*#__PURE__*/_jsxs(\"div\",{children:[runResult&&runResult.message,stopResult&&stopResult.message]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',border:'1px solid #e9ecef',padding:'20px',boxShadow:'0 4px 12px rgba(0,0,0,0.05)',transition:'box-shadow 0.3s ease'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',borderBottom:'1px solid #e9ecef',paddingBottom:'14px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0,fontSize:'1.1rem',fontWeight:'600',color:'#212529',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'center',width:'26px',height:'26px',borderRadius:'6px',backgroundColor:'#ffe5ec',color:'#ff5c8d',fontSize:'0.9rem'},children:\"\\uD83D\\uDD04\"}),\"Workflow Steps: \",cleanWorkflowName(selectedWorkflow.name)]}),selectedWorkflow.steps&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:'#6c757d',display:'flex',alignItems:'center',gap:'6px',padding:'4px 12px',backgroundColor:'#f8f9fa',borderRadius:'100px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',color:'#495057'},children:selectedWorkflow.steps.length}),\"step\",selectedWorkflow.steps.length!==1?'s':'']})]}),!selectedWorkflow.steps||selectedWorkflow.steps.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'30px 20px',backgroundColor:'#f8f9fa',borderRadius:'10px',textAlign:'center',color:'#6c757d',fontSize:'0.95rem',marginBottom:'20px',border:'1px dashed #dee2e6'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',marginBottom:'15px',color:'#d1d5db'},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontWeight:'500'},children:\"No steps defined for this workflow yet.\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'6px 0 0 0',color:'#adb5bd'},children:\"Add your first step below to get started.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'24px'},children:selectedWorkflow.steps.map((step,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#f8f9fa',borderRadius:'10px',marginBottom:index<selectedWorkflow.steps.length-1?'12px':0,overflow:'hidden',border:'1px solid #e9ecef',transition:'transform 0.2s ease, box-shadow 0.2s ease',boxShadow:'0 2px 4px rgba(0,0,0,0.03)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',padding:'14px 18px',borderBottom:editingStepId===step.step_id?'1px solid #e9ecef':'none'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',marginRight:'14px',color:'#ff5c8d',fontSize:'0.85rem',backgroundColor:'white',borderRadius:'8px',width:'28px',height:'28px',display:'inline-flex',alignItems:'center',justifyContent:'center',border:'1px solid #e9ecef',boxShadow:'0 2px 4px rgba(0,0,0,0.03)'},children:index+1}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,fontSize:'0.95rem',fontWeight:'500',color:'#343a40',display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:'10px'},children:step.type==='delay'?'⏱️':step.type==='stake'?'💰':step.type==='swap'?'🔄':step.type==='deploy'?'🚀':step.type==='send'?'📤':step.type==='bebop'||step.type==='izumi'?'🔄':step.type==='lilchogstars'?'🎨':step.type==='mono'?'💸':step.type==='rubic'?'💱':step.type==='ambient'?'💹':step.type==='apriori'?'⚡':step.type==='bean'?'🌱':step.type==='bima'?'💳':'📋'}),getStepDescription(step)]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"button\",{title:\"Edit step configuration\",onClick:()=>handleEditStep(step.step_id),style:{background:'linear-gradient(to right, #ff5c8d, #ff8fab)',color:'white',border:'none',borderRadius:'6px',padding:'6px 12px',cursor:'pointer',fontSize:'0.85rem',fontWeight:'500',display:'flex',alignItems:'center',gap:'5px',transition:'all 0.2s ease'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem'},children:\"\\u270F\\uFE0F\"}),\"Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{title:\"Delete step\",onClick:()=>handleDeleteStep(step.step_id),style:{background:'transparent',color:'#ff5c8d',border:'1px solid #ff5c8d',borderRadius:'6px',padding:'6px 12px',cursor:'pointer',fontSize:'0.85rem',fontWeight:'500',display:'flex',alignItems:'center',gap:'5px',transition:'all 0.2s ease'},onMouseOver:e=>{e.currentTarget.style.backgroundColor='#fff0f3';},onMouseOut:e=>{e.currentTarget.style.backgroundColor='transparent';},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.9rem'},children:\"\\uD83D\\uDDD1\\uFE0F\"}),\"Delete\"]})]})]}),editingStepId===step.step_id&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',background:'white',borderTop:'1px solid #e9ecef'},children:/*#__PURE__*/_jsx(StepConfigEditor,{workflowId:selectedWorkflow.id,step:step,onConfigChange:handleConfigSaved,onCancel:()=>setEditingStepId(null)})})]},step.step_id))}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',borderTop:!selectedWorkflow.steps||selectedWorkflow.steps.length===0?'none':'1px solid #e9ecef',paddingTop:!selectedWorkflow.steps||selectedWorkflow.steps.length===0?'0':'20px'},children:[/*#__PURE__*/_jsxs(\"select\",{value:newStepType,onChange:e=>setNewStepType(e.target.value),style:{flex:'1',padding:'10px 14px',border:'1px solid #ced4da',borderRadius:'8px',fontSize:'0.95rem',color:'#495057',backgroundColor:'white',outline:'none',boxShadow:'0 2px 4px rgba(0,0,0,0.02)',transition:'border-color 0.2s ease, box-shadow 0.2s ease'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"delay\",children:\"\\u23F1\\uFE0F Delay\"}),/*#__PURE__*/_jsx(\"option\",{value:\"stake\",children:\"\\uD83D\\uDCB0 kitsu Stake\"}),/*#__PURE__*/_jsx(\"option\",{value:\"swap\",children:\"\\uD83D\\uDD04 UniSwap\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deploy\",children:\"\\uD83D\\uDE80 Deploy Contract\"}),/*#__PURE__*/_jsx(\"option\",{value:\"send\",children:\"\\uD83D\\uDCE4 Send MON\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bebop\",children:\"\\uD83D\\uDD04 Bebop\"}),/*#__PURE__*/_jsx(\"option\",{value:\"izumi\",children:\"\\uD83D\\uDD04 Izumi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lilchogstars\",children:\"\\uD83C\\uDFA8 Lilchogstars Mint\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mono\",children:\"\\uD83D\\uDCB8 Mono\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rubic\",children:\"\\uD83D\\uDCB1 Rubic\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ambient\",children:\"\\uD83D\\uDCB9 Ambient\"}),/*#__PURE__*/_jsx(\"option\",{value:\"apriori\",children:\"\\u26A1 Apriori\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bean\",children:\"\\uD83C\\uDF31 Bean\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bima\",children:\"\\uD83D\\uDCB3 Bima\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddStep,style:{background:'linear-gradient(to right, #ffb6c1, #ffc8d0)',color:'white',border:'none',borderRadius:'8px',padding:'10px 20px',cursor:'pointer',fontWeight:'600',fontSize:'0.95rem',whiteSpace:'nowrap',transition:'all 0.2s ease',boxShadow:'0 2px 6px rgba(0,0,0,0.1)',display:'flex',alignItems:'center',gap:'6px'},onMouseOver:e=>{e.currentTarget.style.boxShadow='0 4px 8px rgba(0,0,0,0.15)';e.currentTarget.style.transform='translateY(-1px)';},onMouseOut:e=>{e.currentTarget.style.boxShadow='0 2px 6px rgba(0,0,0,0.1)';e.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.1rem'},children:\"+\"}),\"Add Step\"]})]})]})]})});}export default WorkflowDetail;","map":{"version":3,"names":["React","useState","useEffect","useAppContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StepConfigEditor","_ref","workflowId","step","onConfigChange","onCancel","updateStepConfig","localConfig","setLocalConfig","config","handleInputChange","event","name","value","type","checked","target","prevConfig","Number","handleSave","step_id","renderConfigFields","className","children","htmlFor","id","duration_seconds","onChange","min","contract_type","amount","placeholder","token_from_symbol","token_to_symbol","amount_str","amount_mon","mode","recipient_address","disabled","quantity","onClick","style","background","color","border","borderRadius","padding","cursor","fontSize","fontWeight","marginRight","WorkflowDetail","_activeTask$status","_latestRun$status","_latestRun$status2","_latestRun$status3","_latestRun$status4","_latestRun$status5","_latestRun$status6","_activeTask$status2","_activeTask$status3","_activeTask$status4","_activeTask$status5","selectedWorkflow","tasks","fetchTasks","addStepToWorkflow","deleteStepFromWorkflow","runMultiStepWorkflow","skipOnError","setSkipOnError","isRunning","setIsRunning","runResult","setRunResult","isStopping","setIsStopping","stopResult","setStopResult","activeTaskId","setActiveTaskId","editingStepId","setEditingStepId","newStepType","setNewStepType","cleanWorkflowName","replace","currentActiveTask","find","task","_currentActiveTask$st","includes","status","toLowerCase","handleAddStep","console","log","handleDeleteStep","stepId","window","confirm","handleEditStep","handleConfigSaved","handleRunWorkflow","result","success","taskId","error","message","handleStopTask","response","fetch","method","headers","data","json","ok","detail","setTimeout","getLatestRun","length","relatedTasks","filter","description","startsWith","sort","a","b","Date","startTime","latestRun","activeTask","isTaskStoppable","steps","getStepDescription","contract_name","value_mon","inToken","token_in_symbol","outToken","token_out_symbol","amount_percent","beanDir","direction","token_symbol","lendPercent","percent_to_lend","maxWidth","margin","textAlign","backgroundColor","boxShadow","marginBottom","display","justifyContent","alignItems","transition","gap","width","height","marginTop","letterSpacing","toLocaleTimeString","bind","opacity","borderColor","borderBottom","paddingBottom","map","index","overflow","flex","title","onMouseOver","e","currentTarget","onMouseOut","borderTop","paddingTop","outline","whiteSpace","transform"],"sources":["C:/Users/cymst/Documents/monad bot/frontend/src/components/WorkflowDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAppContext } from '../context/AppContext';\nimport './WorkflowDetail.css';\n\n// Component for editing a specific step's configuration\nfunction StepConfigEditor({ workflowId, step, onConfigChange, onCancel }) {\n    const { updateStepConfig } = useAppContext();\n    const [localConfig, setLocalConfig] = useState({ ...step.config }); // Initialize with current config\n\n    useEffect(() => {\n        // Reset local config if the step changes\n        setLocalConfig({ ...step.config });\n    }, [step]);\n\n    const handleInputChange = (event) => {\n        const { name, value, type, checked } = event.target;\n        setLocalConfig(prevConfig => ({\n            ...prevConfig,\n            [name]: type === 'checkbox' ? checked : (type === 'number' ? Number(value) || 0 : value) // Handle different input types\n        }));\n    };\n\n    const handleSave = () => {\n        updateStepConfig(workflowId, step.step_id, localConfig);\n        onConfigChange(); // Notify parent that config was saved/updated\n    };\n\n    // Render form fields based on step type\n    const renderConfigFields = () => {\n        switch (step.type) {\n            case 'delay':\n                return (\n                    <div className=\"form-group\">\n                        <label htmlFor={`duration_${step.step_id}`}>Duration (seconds):</label>\n                        <input\n                            type=\"number\"\n                            id={`duration_${step.step_id}`}\n                            name=\"duration_seconds\"\n                            value={localConfig.duration_seconds || ''}\n                            onChange={handleInputChange}\n                            min=\"1\"\n                        />\n                    </div>\n                );\n            case 'stake': // Example for stake\n                return (\n                    <>\n                        <div className=\"form-group\">\n                            <label htmlFor={`contract_type_${step.step_id}`}>Contract Type:</label>\n                            <select\n                                id={`contract_type_${step.step_id}`}\n                                name=\"contract_type\"\n                                value={localConfig.contract_type || 'kitsu'}\n                                onChange={handleInputChange}\n                            >\n                                <option value=\"kitsu\">Kitsu</option>\n                                {/* Add other contract types if needed */}\n                            </select>\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor={`amount_${step.step_id}`}>Amount:</label>\n                            <input\n                                type=\"text\" // Use text for potential large numbers or decimals\n                                id={`amount_${step.step_id}`}\n                                name=\"amount\"\n                                value={localConfig.amount || ''}\n                                onChange={handleInputChange}\n                                placeholder=\"e.g., 0.1\"\n                            />\n                             <span className=\"input-suffix\">MON</span>\n                        </div>\n                    </>\n                );\n            case 'swap': // Example for swap\n                 return (\n                     <>\n                         <div className=\"form-group\">\n                             <label htmlFor={`token_from_symbol_${step.step_id}`}>From Token:</label>\n                             <input\n                                 type=\"text\"\n                                 id={`token_from_symbol_${step.step_id}`}\n                                 name=\"token_from_symbol\"\n                                 value={localConfig.token_from_symbol || ''}\n                                 onChange={handleInputChange}\n                                 placeholder=\"e.g., MON\"\n                             />\n                         </div>\n                         <div className=\"form-group\">\n                             <label htmlFor={`token_to_symbol_${step.step_id}`}>To Token:</label>\n                             <input\n                                 type=\"text\"\n                                 id={`token_to_symbol_${step.step_id}`}\n                                 name=\"token_to_symbol\"\n                                 value={localConfig.token_to_symbol || ''}\n                                 onChange={handleInputChange}\n                                 placeholder=\"e.g., USDC\"\n                             />\n                         </div>\n                         <div className=\"form-group\">\n                             <label htmlFor={`amount_str_${step.step_id}`}>Amount:</label>\n                             <input\n                                 type=\"text\"\n                                 id={`amount_str_${step.step_id}`}\n                                 name=\"amount_str\"\n                                 value={localConfig.amount_str || ''}\n                                 onChange={handleInputChange}\n                                 placeholder=\"e.g., 0.1\"\n                             />\n                         </div>\n                         {/* Add slippage, recipient etc. if needed */}\n                     </>\n                 );\n            case 'send': // Add send configuration\n                return (\n                    <>\n                        <div className=\"form-group\">\n                            <label htmlFor={`amount_mon_${step.step_id}`}>Amount:</label>\n                            <input\n                                type=\"text\"\n                                id={`amount_mon_${step.step_id}`}\n                                name=\"amount_mon\"\n                                value={localConfig.amount_mon || ''}\n                                onChange={handleInputChange}\n                                placeholder=\"e.g., 0.001\"\n                            />\n                            <span className=\"input-suffix\">MON</span>\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor={`mode_${step.step_id}`}>Mode:</label>\n                            <select\n                                id={`mode_${step.step_id}`}\n                                name=\"mode\"\n                                value={localConfig.mode || 'single'}\n                                onChange={handleInputChange}\n                            >\n                                <option value=\"single\">Single Recipient</option>\n                                <option value=\"random\">Random Recipients</option>\n                            </select>\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor={`recipient_address_${step.step_id}`}>Recipient Address:</label>\n                            <input\n                                type=\"text\"\n                                id={`recipient_address_${step.step_id}`}\n                                name=\"recipient_address\"\n                                value={localConfig.recipient_address || ''}\n                                onChange={handleInputChange}\n                                placeholder=\"0x...\"\n                                disabled={localConfig.mode === 'random'}\n                            />\n                        </div>\n                    </>\n                );\n            case 'lilchogstars': // Add lilchogstars configuration\n                return (\n                    <>\n                        <div className=\"form-group\">\n                            <label htmlFor={`quantity_${step.step_id}`}>Quantity:</label>\n                            <input\n                                type=\"number\"\n                                id={`quantity_${step.step_id}`}\n                                name=\"quantity\"\n                                value={localConfig.quantity || 1}\n                                onChange={handleInputChange}\n                                placeholder=\"e.g., 1\"\n                                min=\"1\"\n                            />\n                        </div>\n                    </>\n                );\n            // Add cases for other step types (deploy, send, etc.)\n            default:\n                return <p>No configuration available for step type: {step.type}</p>;\n        }\n    };\n\n    return (\n        <div className=\"step-config-editor\">\n            <h4>Configure Step: {step.type}</h4>\n            <div className=\"config-form\">\n                {renderConfigFields()}\n            </div>\n            <div className=\"config-actions\">\n                <button onClick={handleSave} className=\"save-config-btn\" style={{\n                    background: 'linear-gradient(to right, #ff5c8d, #ff8fab)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '6px',\n                    padding: '8px 16px',\n                    cursor: 'pointer',\n                    fontSize: '0.9rem',\n                    fontWeight: '500',\n                    marginRight: '10px'\n                }}>Save Config</button>\n                <button onClick={onCancel} className=\"cancel-config-btn\" style={{\n                    background: 'transparent',\n                    color: '#ff5c8d',\n                    border: '1px solid #ff5c8d',\n                    borderRadius: '6px',\n                    padding: '8px 16px',\n                    cursor: 'pointer',\n                    fontSize: '0.9rem',\n                    fontWeight: '500'\n                }}>Cancel</button>\n            </div>\n        </div>\n    );\n}\n\nfunction WorkflowDetail() {\n  const {\n    selectedWorkflow,\n    tasks,\n    fetchTasks,\n    addStepToWorkflow,\n    deleteStepFromWorkflow,\n    runMultiStepWorkflow,\n  } = useAppContext();\n\n  const [skipOnError, setSkipOnError] = useState(true);\n  const [isRunning, setIsRunning] = useState(false);\n  const [runResult, setRunResult] = useState(null);\n  const [isStopping, setIsStopping] = useState(false);\n  const [stopResult, setStopResult] = useState(null);\n  const [activeTaskId, setActiveTaskId] = useState(null);\n  const [editingStepId, setEditingStepId] = useState(null);\n  const [newStepType, setNewStepType] = useState('delay');\n\n  // ฟังก์ชันสำหรับลบคำว่า (Counter) หรือ ข้อความในวงเล็บออกจากชื่อ workflow\n  const cleanWorkflowName = (name) => {\n    return name.replace(/\\s*\\([^)]*\\)\\s*/g, '');\n  };\n\n  useEffect(() => {\n    setRunResult(null);\n    setStopResult(null);\n    setIsRunning(false);\n    setIsStopping(false);\n    setActiveTaskId(null);\n    setEditingStepId(null);\n  }, [selectedWorkflow]);\n\n  useEffect(() => {\n    if (activeTaskId && tasks) {\n      const currentActiveTask = tasks.find(task => task.id === activeTaskId);\n      if (currentActiveTask) {\n        if (!['running', 'pending', 'stopping'].includes(currentActiveTask.status?.toLowerCase())) {\n          setActiveTaskId(null);\n        }\n      } else {\n          setActiveTaskId(null);\n      }\n    } else if (activeTaskId && !tasks) {\n         setActiveTaskId(null);\n    }\n  }, [tasks, activeTaskId]);\n\n  const handleAddStep = () => {\n      if (!selectedWorkflow) return;\n      console.log('Add Step button clicked');\n      console.log('Selected Workflow ID:', selectedWorkflow.id);\n      console.log('New Step Type:', newStepType);\n      addStepToWorkflow(selectedWorkflow.id, newStepType);\n  };\n\n  const handleDeleteStep = (stepId) => {\n      if (!selectedWorkflow) return;\n      if (window.confirm('Are you sure you want to delete this step?')) {\n          deleteStepFromWorkflow(selectedWorkflow.id, stepId);\n          if (editingStepId === stepId) {\n              setEditingStepId(null);\n          }\n      }\n  };\n\n  const handleEditStep = (stepId) => {\n      setEditingStepId(editingStepId === stepId ? null : stepId);\n  };\n\n  const handleConfigSaved = () => {\n      setEditingStepId(null);\n  };\n\n  const handleRunWorkflow = async () => {\n    if (!selectedWorkflow) return;\n    setIsRunning(true);\n    setRunResult(null);\n    setStopResult(null);\n    setActiveTaskId(null);\n\n    try {\n      console.log('Running multi-step workflow with ID:', selectedWorkflow.id);\n      const result = await runMultiStepWorkflow(selectedWorkflow.id);\n      console.log('runMultiStepWorkflow result:', result);\n      setRunResult(result);\n\n      if (result.success && result.taskId) {\n        console.log(\"Multi-step workflow started with task ID:\", result.taskId);\n        setActiveTaskId(result.taskId);\n      } else {\n          setActiveTaskId(null);\n      }\n    } catch (error) {\n      setActiveTaskId(null);\n      setRunResult({\n        success: false,\n        message: `Error running workflow: ${error.message}`\n      });\n       console.error(\"Error in handleRunWorkflow:\", error);\n    } finally {\n      setIsRunning(false);\n    }\n  };\n\n  const handleStopTask = async (taskId) => {\n    if (!taskId) return;\n\n    setIsStopping(true);\n    setStopResult(null);\n    console.log(\"Requesting stop for task:\", taskId);\n\n    try {\n      const response = await fetch(`/api/v1/stop-task/${taskId}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      });\n      const data = await response.json();\n\n      if (!response.ok) {\n        console.error(\"Stop request failed:\", data.detail || 'Failed response from server');\n        setStopResult({ success: false, message: `Stop request failed: ${data.detail || 'Unknown error'}` });\n      } else {\n         setStopResult({ success: true, message: data.message || 'Stop request sent successfully.' });\n      }\n       setTimeout(() => { \n         if (fetchTasks) fetchTasks(); \n         setTimeout(() => {\n           setIsStopping(false);\n           setActiveTaskId(null);\n         }, 500);\n       }, 1500);\n\n    } catch (error) {\n      console.error(\"Error stopping task (network/parse issue):\", error);\n      setStopResult({ success: false, message: `Error: ${error.message}` });\n      setTimeout(() => { \n        if (fetchTasks) fetchTasks(); \n        setTimeout(() => {\n      setIsStopping(false);\n          setActiveTaskId(null);\n        }, 500);\n      }, 1500);\n    }\n  };\n\n  const getLatestRun = () => {\n    if (!selectedWorkflow || !tasks || tasks.length === 0) return null;\n    const relatedTasks = tasks.filter(task =>\n        task.description && task.description.startsWith(`${selectedWorkflow.name} (Multi-Step Run)`)\n    );\n    if (relatedTasks.length === 0) return null;\n    relatedTasks.sort((a, b) => new Date(b.startTime) - new Date(a.startTime));\n    return relatedTasks[0];\n  };\n\n  const latestRun = getLatestRun();\n\n  const activeTask = activeTaskId ? tasks?.find(task => task.id === activeTaskId) : null;\n  const isTaskStoppable = activeTask && ['running', 'pending', 'stopping'].includes(activeTask.status?.toLowerCase());\n\n  // +++ DEBUG LOG +++\n  console.log('WorkflowDetail Render - isTaskStoppable:', isTaskStoppable, 'activeTask:', activeTask, 'isRunning:', isRunning, 'selectedWorkflow:', selectedWorkflow);\n  console.log('WorkflowDetail DOM Debug - Button rendering conditions check');\n  console.log('Button Disabled Logic:', isRunning || !selectedWorkflow || !selectedWorkflow.steps || selectedWorkflow.steps.length === 0);\n  if (selectedWorkflow) {\n    console.log('Steps Check:', selectedWorkflow.steps ? `${selectedWorkflow.steps.length} steps` : 'No steps array');\n  }\n  // +++ END DEBUG LOG +++\n\n  // --- Helper Function to generate descriptive text for a step ---\n  const getStepDescription = (step) => {\n    if (!step) return 'Unknown Step';\n    const config = step.config || {};\n\n    switch (step.type) {\n      case 'delay':\n        return `Delay for ${config.duration_seconds || '?'} seconds`;\n      case 'stake':\n        return `Stake ${config.amount_mon || '?'} MON (${config.contract_type || 'kitsu'})`;\n      case 'swap':\n        // Use amount_str for swap as per config\n        return `Swap ${config.amount_str || '?'} ${config.token_from_symbol || '?'} to ${config.token_to_symbol || '?'}`;\n      case 'deploy':\n        return `Deploy Contract: ${config.contract_name || '?'}`;\n      case 'send':\n        return `Send ${config.amount_mon || '?'} MON ${config.mode === 'single' ? `to ${config.recipient_address || '?'}` : '(Random Recipient)'}`;\n      case 'bebop':\n        return `Bebop: Wrap/Unwrap ${config.amount_mon || '?'} MON`;\n      case 'izumi':\n        return `Izumi: Wrap/Unwrap ${config.amount_mon || '?'} MON`;\n      case 'lilchogstars':\n        return `Mint Lilchogstars (Qty: ${config.quantity || '?'})`;\n      case 'mono':\n        return `Mono Transaction: Send ${config.value_mon || '?'} MON to ${config.recipient_address || '?'}`;\n      case 'rubic':\n        return `Rubic: Swap ${config.amount_mon || '?'} MON to USDT`;\n      case 'ambient':\n        const inToken = config.token_in_symbol || 'Random';\n        const outToken = config.token_out_symbol || 'Random';\n        return `Ambient: Swap ${config.amount_percent || 100}% ${inToken} to ${outToken}`;\n      case 'apriori':\n        return `Apriori: Full Stake/Unstake/Claim Cycle`;\n      case 'bean':\n        const beanDir = config.direction === 'to_token' ? `MON to ${config.token_symbol || '?'}` : `${config.token_symbol || '?'} to MON`;\n        // Use amount (float) for bean as per config\n        return `Bean: Swap ${config.amount || '?'} (${beanDir})`;\n      case 'bima':\n        const lendPercent = config.percent_to_lend ? `${config.percent_to_lend[0]}-${config.percent_to_lend[1]}%` : 'Default %';\n        return `Bima: Lend Cycle (${lendPercent})`;\n      default:\n        return `Unknown Step Type: ${step.type}`;\n    }\n  };\n\n  return (\n    <div className=\"workflow-detail\" style={{ maxWidth: '1000px', margin: '0 auto' }}>\n      {!selectedWorkflow ? (\n        <div style={{\n          padding: '60px 30px',\n          textAlign: 'center',\n          color: '#6c757d',\n          backgroundColor: 'white',\n          borderRadius: '12px',\n          border: '1px solid #e9ecef',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.05)'\n        }}>\n          <div style={{ fontSize: '2rem', marginBottom: '20px', color: '#d1d5db' }}>📋</div>\n          <p style={{ fontSize: '1rem', fontWeight: '500' }}>No workflow selected. Please select a workflow from the list.</p>\n        </div>\n      ) : (\n        <>\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '20px',\n            padding: '18px 24px',\n            backgroundColor: 'white',\n            borderRadius: '12px',\n            border: '1px solid #e9ecef',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.05)',\n            transition: 'box-shadow 0.3s ease'\n          }}>\n            <div>\n              <h2 style={{ \n                margin: 0, \n                fontSize: '1.4rem', \n                fontWeight: '600', \n                color: '#212529',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '10px'\n              }}>\n                <span style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: '32px',\n                  height: '32px',\n                  borderRadius: '8px',\n                  backgroundColor: '#ffe5ec',\n                  color: '#ff5c8d',\n                  fontSize: '1rem'\n                }}>\n                  📋\n                </span>\n                {cleanWorkflowName(selectedWorkflow.name)}\n              </h2>\n              \n              {latestRun && (\n                <div style={{ \n                  marginTop: '8px',\n                  fontSize: '0.85rem',\n                  color: '#6c757d',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                }}>\n                  <span style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                    <span style={{ fontSize: '0.8rem' }}>⏱️</span>\n                    Last run:\n                  </span>\n                  <span style={{ \n                    padding: '3px 10px',\n                    borderRadius: '100px',\n                    backgroundColor: latestRun.status?.toLowerCase() === 'completed' ? '#d1e7dd' :\n                                      latestRun.status?.toLowerCase() === 'running' ? '#cfe2ff' :\n                                      latestRun.status?.toLowerCase() === 'failed' ? '#f8d7da' : '#e9ecef',\n                    color: latestRun.status?.toLowerCase() === 'completed' ? '#146c43' :\n                           latestRun.status?.toLowerCase() === 'running' ? '#0a58ca' :\n                           latestRun.status?.toLowerCase() === 'failed' ? '#dc3545' : '#6c757d',\n                    fontSize: '0.75rem',\n                    fontWeight: '600',\n                    letterSpacing: '0.3px'\n                  }}>\n                    {latestRun.status}\n                  </span>\n                  <span style={{ color: '#adb5bd' }}>•</span>\n                  <span>{new Date(latestRun.startTime).toLocaleTimeString()}</span>\n              </div>\n              )}\n            </div>\n            \n            <button\n              onClick={isTaskStoppable && !isStopping ? handleStopTask.bind(null, activeTaskId) : handleRunWorkflow}\n              style={{\n                background: isTaskStoppable && !isStopping ? \n                  'linear-gradient(to right, #dc3545, #e35d6a)' : \n                  'linear-gradient(to right, #ffb6c1, #ffc8d0)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '10px 20px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                fontSize: '0.95rem',\n                opacity: (isRunning || isStopping || (activeTask?.status?.toLowerCase() !== 'completed' && activeTask?.status?.toLowerCase() !== 'failed' && activeTaskId !== null) || !selectedWorkflow || !selectedWorkflow.steps || selectedWorkflow.steps.length === 0) && !(isTaskStoppable && !isStopping) ? '0.6' : '1',\n                transition: 'all 0.2s ease',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                boxShadow: '0 2px 6px rgba(0,0,0,0.1)'\n              }}\n              disabled={(isRunning || isStopping || (activeTask?.status?.toLowerCase() !== 'completed' && activeTask?.status?.toLowerCase() !== 'failed' && activeTaskId !== null) || !selectedWorkflow || !selectedWorkflow.steps || selectedWorkflow.steps.length === 0) && !(isTaskStoppable && !isStopping)}\n            >\n              <span style={{ \n                fontSize: '1rem',\n                display: 'flex',\n                alignItems: 'center'\n              }}>\n                {isTaskStoppable && !isStopping ? '⏹️' : \n                 isRunning || isStopping ? '⏳' : '▶️'}\n              </span>\n              {isTaskStoppable && !isStopping ? 'Stop' : \n               isRunning || isStopping ? 'Starting...' : 'Run now'}\n            </button>\n          </div>\n          \n          {/* Status Messages */}\n          {(runResult || stopResult) && (\n            <div style={{\n              marginBottom: '20px',\n              padding: '14px 20px',\n              borderRadius: '12px',\n              backgroundColor: runResult?.success || stopResult?.success ? '#e7f3e8' : '#f8d7da',\n              border: '1px solid',\n              borderColor: runResult?.success || stopResult?.success ? '#c3e6cb' : '#f5c6cb',\n              color: runResult?.success || stopResult?.success ? '#155724' : '#721c24',\n              fontSize: '0.95rem',\n              boxShadow: '0 2px 5px rgba(0,0,0,0.03)',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px'\n            }}>\n              <span style={{ \n                fontSize: '1.2rem' \n              }}>\n                {runResult?.success || stopResult?.success ? '✅' : '❗'}\n              </span>\n              <div>\n                {runResult && runResult.message}\n                {stopResult && stopResult.message}\n            </div>\n            </div>\n          )}\n          \n          {/* Workflow Steps Section */}\n          <div style={{ \n            backgroundColor: 'white',\n            borderRadius: '12px',\n            border: '1px solid #e9ecef',\n            padding: '20px',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.05)',\n            transition: 'box-shadow 0.3s ease'\n          }}>\n            <div style={{ \n              display: 'flex', \n              justifyContent: 'space-between', \n              alignItems: 'center',\n              borderBottom: '1px solid #e9ecef',\n              paddingBottom: '14px',\n              marginBottom: '20px'\n            }}>\n              <h3 style={{ \n                margin: 0, \n                fontSize: '1.1rem', \n                fontWeight: '600',\n                color: '#212529',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              }}>\n                <span style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: '26px',\n                  height: '26px',\n                  borderRadius: '6px',\n                  backgroundColor: '#ffe5ec',\n                  color: '#ff5c8d',\n                  fontSize: '0.9rem'\n                }}>\n                  🔄\n                </span>\n                Workflow Steps: {cleanWorkflowName(selectedWorkflow.name)}\n              </h3>\n              \n              {selectedWorkflow.steps && (\n                <div style={{ \n                  fontSize: '0.9rem', \n                  color: '#6c757d',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '4px 12px',\n                  backgroundColor: '#f8f9fa',\n                  borderRadius: '100px'\n                }}>\n                  <span style={{ fontWeight: '600', color: '#495057' }}>\n                    {selectedWorkflow.steps.length}\n                </span>\n                  step{selectedWorkflow.steps.length !== 1 ? 's' : ''}\n            </div>\n          )}\n            </div>\n            \n            {(!selectedWorkflow.steps || selectedWorkflow.steps.length === 0) ? (\n              <div style={{\n                padding: '30px 20px',\n                backgroundColor: '#f8f9fa',\n                borderRadius: '10px',\n                textAlign: 'center',\n                color: '#6c757d',\n                fontSize: '0.95rem',\n                marginBottom: '20px',\n                border: '1px dashed #dee2e6'\n              }}>\n                <div style={{ fontSize: '2rem', marginBottom: '15px', color: '#d1d5db' }}>🔍</div>\n                <p style={{ margin: 0, fontWeight: '500' }}>No steps defined for this workflow yet.</p>\n                <p style={{ margin: '6px 0 0 0', color: '#adb5bd' }}>Add your first step below to get started.</p>\n              </div>\n            ) : (\n              <div style={{ marginBottom: '24px' }}>\n                {selectedWorkflow.steps.map((step, index) => (\n                  <div \n                    key={step.step_id}\n                    style={{\n                      backgroundColor: '#f8f9fa',\n                      borderRadius: '10px',\n                      marginBottom: index < selectedWorkflow.steps.length - 1 ? '12px' : 0,\n                      overflow: 'hidden',\n                      border: '1px solid #e9ecef',\n                      transition: 'transform 0.2s ease, box-shadow 0.2s ease',\n                      boxShadow: '0 2px 4px rgba(0,0,0,0.03)'\n                    }}\n                  >\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      padding: '14px 18px',\n                      borderBottom: editingStepId === step.step_id ? '1px solid #e9ecef' : 'none'\n                    }}>\n                      <div style={{\n                        fontWeight: '600',\n                        marginRight: '14px',\n                        color: '#ff5c8d',\n                        fontSize: '0.85rem',\n                        backgroundColor: 'white',\n                        borderRadius: '8px',\n                        width: '28px',\n                        height: '28px',\n                        display: 'inline-flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        border: '1px solid #e9ecef',\n                        boxShadow: '0 2px 4px rgba(0,0,0,0.03)'\n                      }}>\n                        {index + 1}\n            </div>\n                      <div style={{\n                        flex: 1,\n                        fontSize: '0.95rem',\n                        fontWeight: '500',\n                        color: '#343a40',\n                        display: 'flex',\n                        alignItems: 'center'\n                      }}>\n                        <span style={{ marginRight: '10px' }}>\n                          {step.type === 'delay' ? '⏱️' :\n                           step.type === 'stake' ? '💰' :\n                           step.type === 'swap' ? '🔄' :\n                           step.type === 'deploy' ? '🚀' :\n                           step.type === 'send' ? '📤' :\n                           step.type === 'bebop' || step.type === 'izumi' ? '🔄' :\n                           step.type === 'lilchogstars' ? '🎨' :\n                           step.type === 'mono' ? '💸' :\n                           step.type === 'rubic' ? '💱' :\n                           step.type === 'ambient' ? '💹' :\n                           step.type === 'apriori' ? '⚡' :\n                           step.type === 'bean' ? '🌱' :\n                           step.type === 'bima' ? '💳' : '📋'}\n                        </span>\n                        {getStepDescription(step)}\n          </div>\n                      <div style={{ display: 'flex', gap: '8px' }}>\n                    <button\n                        title=\"Edit step configuration\"\n                        onClick={() => handleEditStep(step.step_id)}\n                          style={{\n                            background: 'linear-gradient(to right, #ff5c8d, #ff8fab)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '6px',\n                            padding: '6px 12px',\n                            cursor: 'pointer',\n                            fontSize: '0.85rem',\n                            fontWeight: '500',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '5px',\n                            transition: 'all 0.2s ease'\n                          }}\n                        >\n                          <span style={{ fontSize: '0.9rem' }}>✏️</span>\n                          Edit\n                    </button>\n                    <button\n                        title=\"Delete step\"\n                        onClick={() => handleDeleteStep(step.step_id)}\n                          style={{\n                            background: 'transparent',\n                            color: '#ff5c8d',\n                            border: '1px solid #ff5c8d',\n                            borderRadius: '6px',\n                            padding: '6px 12px',\n                            cursor: 'pointer',\n                            fontSize: '0.85rem',\n                            fontWeight: '500',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '5px',\n                            transition: 'all 0.2s ease'\n                          }}\n                          onMouseOver={(e) => {\n                            e.currentTarget.style.backgroundColor = '#fff0f3';\n                          }}\n                          onMouseOut={(e) => {\n                            e.currentTarget.style.backgroundColor = 'transparent';\n                          }}\n                        >\n                          <span style={{ fontSize: '0.9rem' }}>🗑️</span>\n                          Delete\n                    </button>\n                  </div>\n                </div>\n                \n                {editingStepId === step.step_id && (\n                      <div style={{\n                        padding: '20px',\n                        background: 'white',\n                        borderTop: '1px solid #e9ecef'\n                      }}>\n                      <StepConfigEditor\n                          workflowId={selectedWorkflow.id}\n                          step={step}\n                          onConfigChange={handleConfigSaved}\n                          onCancel={() => setEditingStepId(null)}\n                      />\n                  </div>\n                )}\n              </div>\n            ))}\n              </div>\n            )}\n            \n            {/* Add Step Control */}\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '10px',\n              borderTop: (!selectedWorkflow.steps || selectedWorkflow.steps.length === 0) ? 'none' : '1px solid #e9ecef',\n              paddingTop: (!selectedWorkflow.steps || selectedWorkflow.steps.length === 0) ? '0' : '20px'\n            }}>\n               <select\n                  value={newStepType}\n                  onChange={(e) => setNewStepType(e.target.value)}\n                style={{\n                  flex: '1',\n                  padding: '10px 14px',\n                  border: '1px solid #ced4da',\n                  borderRadius: '8px',\n                  fontSize: '0.95rem',\n                  color: '#495057',\n                  backgroundColor: 'white',\n                  outline: 'none',\n                  boxShadow: '0 2px 4px rgba(0,0,0,0.02)',\n                  transition: 'border-color 0.2s ease, box-shadow 0.2s ease'\n                }}\n              >\n                <option value=\"delay\">⏱️ Delay</option>\n                <option value=\"stake\">💰 kitsu Stake</option>\n                <option value=\"swap\">🔄 UniSwap</option>\n                <option value=\"deploy\">🚀 Deploy Contract</option>\n                <option value=\"send\">📤 Send MON</option>\n                <option value=\"bebop\">🔄 Bebop</option>\n                <option value=\"izumi\">🔄 Izumi</option>\n                <option value=\"lilchogstars\">🎨 Lilchogstars Mint</option>\n                <option value=\"mono\">💸 Mono</option>\n                <option value=\"rubic\">💱 Rubic</option>\n                <option value=\"ambient\">💹 Ambient</option>\n                <option value=\"apriori\">⚡ Apriori</option>\n                <option value=\"bean\">🌱 Bean</option>\n                <option value=\"bima\">💳 Bima</option>\n               </select>\n              <button \n                onClick={handleAddStep}\n                style={{\n                  background: 'linear-gradient(to right, #ffb6c1, #ffc8d0)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  padding: '10px 20px',\n                  cursor: 'pointer',\n                  fontWeight: '600',\n                  fontSize: '0.95rem',\n                  whiteSpace: 'nowrap',\n                  transition: 'all 0.2s ease',\n                  boxShadow: '0 2px 6px rgba(0,0,0,0.1)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px'\n                }}\n                onMouseOver={(e) => {\n                  e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';\n                  e.currentTarget.style.transform = 'translateY(-1px)';\n                }}\n                onMouseOut={(e) => {\n                  e.currentTarget.style.boxShadow = '0 2px 6px rgba(0,0,0,0.1)';\n                  e.currentTarget.style.transform = 'translateY(0)';\n                }}\n              >\n                <span style={{ fontSize: '1.1rem' }}>+</span>\n                Add Step\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default WorkflowDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}